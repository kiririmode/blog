# システムパターン

## アーキテクチャ概要

このプロジェクトは、ブログ記事の管理とデプロイメントを自動化するシステムとして構築されています。

## ディレクトリ構造

```text
/workspaces/blog/
├── kiririmode.hatenablog.jp/  # ブログコンテンツのルートディレクトリ
│   └── entry/                 # ブログ記事のディレクトリ（日付ベースで構造化）
├── scripts/                   # 自動化スクリプトディレクトリ
│   ├── check.sh              # 記事の品質チェックスクリプト
│   └── publish.sh            # 記事の公開スクリプト
├── utils/                     # ユーティリティスクリプトディレクトリ
│   ├── post_blog.sh          # ブログ投稿用ユーティリティ
│   └── textlint.sh           # テキスト校正用ユーティリティ
└── memory-bank/              # システム設定と文書化
    ├── projectbrief.md       # プロジェクト概要
    ├── productContext.md     # プロダクトコンテキスト
    └── ...                   # その他の設定ファイル
```

## ディレクトリの役割

### kiririmode.hatenablog.jp/

- ブログ記事のメインコンテンツを管理
- 日付ベースでエントリーを整理
- Markdownフォーマットで記事を保存

記事は

```text
/workspaces/blog/kiririmode.hatenablog.jp/entry/YYYYMMDD/【数字列】.md
```

に格納されています。YYYYMMDDは投稿日です。数字列は記事作成開始日のunixtimeを表現しています。

### scripts/

- システム全体の自動化を担当
- 品質チェックと公開プロセスを自動化
- バッチ処理の実行を管理

### utils/

- 個別の機能を提供するユーティリティツール
- テキスト校正やブログ投稿の補助機能
- 再利用可能なスクリプトコンポーネント

## 主要コンポーネント

### コンテンツ管理

- Markdownベースの記事管理
- 記事のメタデータ管理
- カテゴリとタグの体系化

### 品質管理

- textlintによる文章校正
- prh（規定プリセット）による表記ゆれ対策
- リンク有効性の検証

### デプロイメント

- blogsyncによるHatena Blogとの同期
- 自動化されたパブリッシュプロセス
- 公開状態の管理

### AI支援機能

- 記事の自動生成・編集支援
  - メモリーバンクによる文体や構造の学習
  - .clinerulesによる文体パターンの定義
  - 人間とAIの協働による記事作成プロセス
- コンテンツの品質チェック
  - 論理展開の確認
  - 技術的な正確性の検証
  - 読者視点での読みやすさの評価
- 校正機能の制約
  - 差分抽出や細部の修正は不得意
  - textlintなどの機械的チェックへの対応は限定的
  - 長文の文脈理解に課題あり

## 設計パターン

### ワークフロー

1. 記事作成/編集
2. 品質チェック
3. 校正
4. レビュー
5. 公開

### 自動化パターン

- Make/シェルスクリプトによるタスク自動化
- GitHub Actionsによる継続的インテグレーション
- 定期的な品質チェックと修正
