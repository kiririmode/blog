---
Title: AWS Glacier
Category:
- aws
Date: 2012-09-10T00:00:00+09:00
URL: https://kiririmode.hatenablog.jp/entry/20120910/p1
EditURL: https://blog.hatena.ne.jp/kiririmode/kiririmode.hatenablog.jp/atom/entry/8454420450078210154
---

刺激的なタイトルとともに、AWS の新サービス、Glacier がローンチされてました。
-[http://aws.typepad.com/aws_japan/2012/08/amazon-glacier-archival-storage-for-one-penny-per-gb-per-month.html:title:bookmark]

**Glacier とは

データバックアップやアーカイブ向けのクラウドストレージサービスです。1 ヶ月あたり $0.01/GB という破格の値段。ファイル自体は、AES-256 で暗号化されて保管されます。

**API は？
AWS らしく REST API をサポートしているので、コードさえ書けばもにょもにょできそうです。Java, .NET については SDK もある。

**S3 との違いは

AWS では、既に S3 というストレージサービスを提供していますが、S3 が高速なアクセスを売りにしているのに対し、Glacier は上記のような破壊的とも言える価格が売りです。このため、【高速なアクセス】はサービスとしては提供しません。ここ重要。
Glacier 上にアップロードしたファイルをダウンロードするためには、数時間かかります。逆に言えば、数時間かかって良いというようなデータを預けるサービスです。Dropbox みたいなものを想定するな。競合しません。まったく別の価値を提供するまったく別のサービスとして考えた方が良いです。

ちなみに、
>https://aws.amazon.com/jp/glacier/faqs:title>
数か月以内に、Amazon S3 と Amazon Glacier との間でデータライフサイクルポリシーに基づいてシームレスにデータを移動するためのオプションが Amazon S3 に追加される予定です。
<<
とのことなので、高速アクセスが必要なくなったものは順次 Glacier に移していくなんて運用もできるようになりそうで、夢が広がりますね。

**ダウンロードに数時間かかるって既に終わっているのでは

そんなことないとおもいます。
ぼくはこのサービスのローンチを聞いたとき、すぐに「電子書籍データをバックアップしておくのにピッタリだな」と思いました。ぼくは電子書籍データを NAS 上に保管していますが、NAS が壊れたときのことを考えるとわりと不安ではありました(コスト面を重視していたので、RAID すら組んでいません)。一方で、これらのデータをクラウドストレージに預けると、月額数千円を覚悟しなければならず、二の足を踏んでいました。
-[http://www.lasical.com/2012/04/25/13427/:title:bookmark]
個人ユースだけ考えても、バックアップ用途であればいくらでもニーズが出てくると思います。

**注意

Glacier は、長期ファイル保管用と銘打たれていたりするので、アップロード後、3 ヶ月(90 日)を経過していないファイルの削除は、削除行為そのものが課金対象となります。現時点では、0.036 USD/GB といったところ。

**使うための知識

Glacier は上述のとおり従量制なので、アップロード総容量の上限はありません。1 アーカイブ 40 TB までという制限はありますが、我が家にそんなファイルは無いですし、普通はそうかなと思います。
Glacier を使うためには、まず Vault と呼ばれる、フォルダのようなものを作成します。これは API 経由で作成するか、AWS Management Console から作成できます。作成後、当該の Vault に対してファイル(Archive)のアップロードが可能になります。アップロードに成功すると、当該ファイルには archiveId という ID が振られますので、これを指定してダウンロード等を実施することになります。

ファイルのアップロードは、現状、API 経由でしかできないようです。つまり、プログラミングが必要です。Java で書くとこんなかんじになります。
<script src="https://gist.github.com/3675080.js"> </script>
