---
Title: 伸び率に対する平均は算術平均ではなく幾何平均を使うべき
Category:
- statistics
Date: 2023-08-11T12:20:28+09:00
URL: https://kiririmode.hatenablog.jp/entry/20230811/1691724028
EditURL: https://blog.hatena.ne.jp/kiririmode/kiririmode.hatenablog.jp/atom/entry/820878482957399618
---

# 指数化

ある時点$t$における値$y\_t$と、次の時点$t+1$における値$y\_{t+1}$を比較することは多く行われます。例えばMAUが前年度に対してどれだけ伸びた、四半期の売り上げがどれだけ伸びた、というようなケースですね。

こういったときの比較として、単純な差$y\_{t+1} - y\_{t}$ではなく、変化率$\frac{y\_{t+1} - y\_{t}}{y\_{t}}$を見ることも、やはり多く行われます。これはある時点を基準化した値（この例では、$y\_{t}$が基準ですね）であり、このような基準に対する値にすることを「指数化」と呼びます。

<!-- textlint-disable -->
観測値が$y=(y\_0,y\_1,y\_2,\cdots , y\_{T-1}, y\_{T})$であり、基準時$s$のときの値を$y\_{s}$とすると、各時点$t$のときの指数$q\_{t}$は$q\_{t}=\frac{y\_{t}}{y\_{s}}$になります。
<!-- textlint-enable -->

# 伸び率に対する平均には幾何平均を使う

ここで、前期比データが$r\_{t}=\frac{y\_{t}}{y\_{t-1}}$ $(t=1, 2, \cdots, T)$で与えられた時を考えます。

このとき期間$T$における伸び率は以下のように表せるでしょう。

$$
\frac{y\_{T}}{y\_{0}}=\left(\frac{y\_{1}}{y\_{0}} \right) \left(\frac{y\_{2}}{y\_{1}} \right) \left(\frac{y\_{3}}{y\_{2}} \right)\cdots \left(\frac{y\_{T}}{y\_{T-1}} \right)=r\_{1}r\_{2}r\_{3}\cdots r\_{T}= \prod\_{t=1} ^{T} r\_{t}
$$

従って、期間$T$を構成するそれぞれの期における伸び率$r\_{t}$の平均$r\_{G}$は以下の式になり、これを伸び率$r\_{t}$の幾何平均と呼びます。

$$
r\_{G} = \left( \prod\_{t=1} ^{T} r\_{t} \right) ^{\frac{1}{T}}
$$

よく知られた算術平均$\frac{\sum\_{t=1} ^{T} r\_{t}}{T}$でないのは、今回対象としている伸び率が「乗算」によって定義される値であるのがポイントでしょう。このような伸び率を算術平均で平均してしまうと、適切な値が得られず、本来の平均よりも大きな値になってしまいます。

これは、算術平均と幾何平均の間に以下のような関係式が成立するためです。これは、よく知られた相加相乗平均の不等式を一般化したものですね。

$$
\sum\_{i=1} ^{N} a\_{i} \geq \left( \prod\_{i=1} ^{N} a\_{i} \right) ^{\frac{1}{n}}
$$
